package com.mvc.controller;

import java.awt.image.BufferedImage;
import java.io.File;

import com.main.ImageUtil;
import com.mvc.model.PerspectiveModel;

public class ZoomCommand implements ViewActionCommand {

	private double zoom =1.0;
	private PerspectiveModel model;
	private int notches;
	
	public ZoomCommand(PerspectiveModel model, int notches) {
		this.model = model;
		this.notches = notches;
		calculateZoom();
	}
	
	private void calculateZoom() {
		double temp = Math.max(zoom - (notches * 0.2), 1.0);
		if (temp != zoom) {
            zoom = temp;
        }
	}

	@Override
	public void execute() {
		BufferedImage image = model.getImage();
		if(image != null){
			ImageUtil.getScaledImage(image, (int)(image.getWidth()*zoom), (int)(image.getHeight()*zoom));
		}	
	}

}
